<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1, maximum-scale=1">
<meta HTTP-EQUIV="CACHE-CONTROL" CONTENT="NO-CACHE">
<META HTTP-EQUIV="Pragma" CONTENT="no-cache">
<META HTTP-EQUIV="Expires" CONTENT="-1">
<title>Racytoscal</title>
<script src="lib/cytoscape.umd.js"></script>
<script src="lib/dagre.min.js"></script>
<script src="lib/cytoscape-dagre.js"></script>
<style>
//#cy {
//  width: 600px;
//  height: 600px;
//  display: block;
//}
#cy {
  position: absolute;
  left: 0;
  top: 0;
  right: 0;
  bottom: 0;
  z-index: 999;
}
title {display:block}
</style>
</head>
<body onbeforeunload="handleOnClose()">
<div id='cy'>
<script>
function addScript(filename, where)
{
 var d = new Date();
 var n = d.getTime();
 var scriptBlock=document.createElement('script');
 scriptBlock.setAttribute("type","text/javascript");
 scriptBlock.setAttribute("src", filename+"?"+n);
 document.getElementsByTagName(where)[0].appendChild(scriptBlock);
}

function httpGet(callback)
{
	var currentURL = window.location.href;
    var xmlHttp = new XMLHttpRequest();
    xmlHttp.onreadystatechange = function() { 
        if (xmlHttp.readyState == 4 && xmlHttp.status == 200)
            callback(xmlHttp.responseText);
    }
    xmlHttp.open("GET", currentURL+"close", true); // true for asynchronous 
    xmlHttp.send(null);
}

function handleOnClose() {
	httpGet(function(v){});
}
// addScript("Output.js", "div");
cytoscapeInit
</script>
</div>
</body>
</html>